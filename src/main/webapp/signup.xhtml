<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:o="http://xmlns.jcp.org/jsf/html">
<f:metadata>
	<f:event listener="#{loginController.redirectIfNotAnonymous()}"
		type="preRenderView" />
</f:metadata>
<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>InfraWEB</title>
	<!-- Tell the browser to be responsive to screen width -->
	<meta
		content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
		name="viewport" />
	<!-- Bootstrap 3.3.5 -->
	<link rel="stylesheet" href="resources/bootstrap/css/bootstrap.min.css" />
	<!-- Font Awesome -->
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" />
	<!-- Ionicons -->
	<link rel="stylesheet"
		href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
	<!-- Theme style -->
	<link rel="stylesheet" href="resources/dist/css/AdminLTE.min.css" />
	<!-- iCheck -->
	<link rel="stylesheet" href="resources/plugins/iCheck/square/blue.css" />

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</h:head>
<h:body class="hold-transition login-page">
	<div class="login-box">
		<div class="login-logo">
			<a href="login.xhtml"><b>Infra</b>WEB</a>
		</div>
		<!-- /.login-logo -->
		<h:panelGroup id="error">
			<h:panelGroup rendered="#{signUpController.error}">
				<div class="alert alert-danger alert-dismissable">
					<h4>
						<i class="icon fa fa-ban"></i> ¡Error!
					</h4>
					#{signUpController.message}
				</div>
			</h:panelGroup>
		</h:panelGroup>
		<div class="login-box-body">
			<div class="row">
				<div class="col-xs-12">
					<p class="login-box-msg">Registrate para obtener acceso a InfraWEB</p>
					<o:form>
						<div class="form-group has-feedback">
							<h:inputText id="name" value="#{signUpController.name}"
								class="form-control" a:placeholder="Nombre" required="true"
								requiredMessage="Debe especificar su nombre" />
							<span class="glyphicon glyphicon-user form-control-feedback"></span>
							<h:message id="m1" for="name" style="color:red" />
						</div>
						<div class="form-group has-feedback">
							<h:inputText id="firstSurname"
								value="#{signUpController.firstSurname}" class="form-control"
								a:placeholder="Primer apellido" required="true"
								requiredMessage="Debe especificar su primer apellido" />
							<span class="glyphicon glyphicon-user form-control-feedback"></span>
							<h:message id="m2" for="firstSurname" style="color:red" />
						</div>
						<div class="form-group has-feedback">
							<h:inputText id="secondSurname"
								value="#{signUpController.secondSurname}" class="form-control"
								a:placeholder="Segundo apellido" />
							<span class="glyphicon glyphicon-user form-control-feedback"></span>
							<h:message id="m3" for="secondSurname" style="color:red" />
						</div>
						<div class="form-group has-feedback">
							<h:inputText id="email" value="#{signUpController.email}"
								class="form-control" a:placeholder="Email" required="true"
								requiredMessage="Debe especificar un correo electrónico"
								validatorMessage="El email que ha introducido es incorrecto">
								<f:validateRegex pattern="(.+@.+\..+)" />
							</h:inputText>
							<span class="glyphicon glyphicon-envelope form-control-feedback"></span>
							<h:message id="m4" for="email" style="color:red" />
						</div>
						<div class="form-group has-feedback">
							<h:inputText id="login" value="#{signUpController.login}"
								class="form-control" a:placeholder="Login" required="true"
								requiredMessage="Debe especificar su login" />
							<span class="glyphicon glyphicon-log-in form-control-feedback"></span>
							<h:message id="m5" for="login" style="color:red" />
						</div>
						<div class="form-group has-feedback">
							<h:inputSecret id="password" value="#{signUpController.password}"
								class="form-control" a:placeholder="Contraseña" required="true"
								requiredMessage="Debe especificar su contraseña">
								<f:validateLength minimum="6" />
								<f:validator validatorId="passwordValidator" />
								<f:attribute name="confirmPassword" value="#{confirmPassword}" />
							</h:inputSecret>
							<span class="glyphicon glyphicon-lock form-control-feedback"></span>
							<h:message id="m6" for="password" style="color:red" />
						</div>
						<div class="form-group has-feedback">
							<h:inputSecret id="confirmPassword" class="form-control"
								a:placeholder="Repita la contraseña" required="true"
								binding="#{confirmPassword}"
								requiredMessage="Debe repetir su contraseña"
								validatorMessage="El valor del campo tiene que contener un mínimo de 6 carácteres ">
								<f:validateLength minimum="6" />
							</h:inputSecret>
							<span class="glyphicon glyphicon-lock form-control-feedback"></span>
							<h:message id="m7" for="confirmPassword" style="color:red" />
						</div>
						<div class="row">
							<div class="col-xs-8"></div>
							<!-- /.col -->
							<div class="col-xs-4">
								<h:commandButton action="#{signUpController.doRegister()}"
									value="Registrar" class="btn btn-primary btn-block btn-flat">
									<f:ajax execute="@form" render="error"/>
									</h:commandButton>
							</div>
							<!-- /.col -->
						</div>
					</o:form>
				</div>
			</div>
		</div>
		<!-- /.login-box-body -->
	</div>
	<!-- /.login-box -->

	<!-- jQuery 2.1.4 -->
	<script src="../../plugins/jQuery/jQuery-2.1.4.min.js"></script>
	<!-- Bootstrap 3.3.5 -->
	<script src="../../bootstrap/js/bootstrap.min.js"></script>
	<!-- iCheck -->
	<script src="../../plugins/iCheck/icheck.min.js"></script>
	<script>
        $(function() {
            $('input').iCheck({
                checkboxClass: 'icheckbox_square-blue',
                radioClass: 'iradio_square-blue',
                increaseArea: '20%' // optional
            });
        });
    </script>
</h:body>
</html>